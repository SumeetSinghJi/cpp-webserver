cmake_minimum_required(VERSION 3.10)

project(cpp-webserver)

set(OPENSSL_INCLUDE_DIR "${CMAKE_SOURCE_DIR}/src/OpenSSL-Win64/include")

set(OPENSSL_LIBRARIES
    "${CMAKE_SOURCE_DIR}/src/OpenSSL-Win64/lib/VC/x64/MD/libcrypto.lib" # -lcrypto
    "${CMAKE_SOURCE_DIR}/src/OpenSSL-Win64/lib/VC/x64/MD/libssl_static.lib" # -lssl
)

set(SOURCES
    main.cpp
    src/lightweight_cpp_webserver.cpp
)

add_executable(cpp-webserver ${SOURCES})

target_include_directories(cpp-webserver PRIVATE 
    headers
    website
    keys
    ${OPENSSL_INCLUDE_DIR}
)

target_link_libraries(cpp-webserver PRIVATE 
    ${OPENSSL_LIBRARIES}
    Ws2_32
)

